<html>
<head> <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script></head>
<body>

Scraper.
<ol>
  <li> Make sure you change the start value and end values so that we don't overlap data. </li>
  <li> Take a look at the Chrome Console to see specific errors that happened </li>
  <li> Take a look at the Terminal Console to see specific errors that happened as well</li>
</ol>

<div>
  Number of successfully downloaded items:<span class="win">0</span><br>
  Number of unsuccessful downloaded items:<span class="lose">0</span>
</div>

<script>
var successItem = 0;
var failureItem = 0;

var start = 0;
var end = 2000;

setInterval(function() {

  for(var i = start; i < end; i++) {
    $.get("https://hacker-news.firebaseio.com/v0/item/" + i + ".json", 
      function(data) { 
        $.ajax({
          type: "POST",
          url: "http://localhost:8000/",
          data: data
        })
        .done(function(x) {
          successItem++;
          $(".win").html(""+successItem);
        })
        .fail(function(x) {
          failureItem++;
          $(".lose").html(""+failureItem);
          console.log(x);
        })
      }
    )
    .fail(function(x) {
          failureItem++;
          $(".lose").html(""+failureItem);
          console.log(x);
        });
  }

  start += 2000;
  end += 2000;

}, 60000)

// for(var i = 7001; i < 9000; i++) {
//   $.get("https://hacker-news.firebaseio.com/v0/item/" + i + ".json", 
//     function(data) { 
//       $.ajax({
//         type: "POST",
//         url: "http://localhost:8000/",
//         data: data
//       })
//       .done(function(x) {
//         successItem++;
//         $(".win").html(""+successItem);
//       })
//       .fail(function(x) {
//         failureItem++;
//         $(".lose").html(""+failureItem);
//         console.log(x);
//       })
//     }
//   )
//   .fail(function(x) {
//         failureItem++;
//         $(".lose").html(""+failureItem);
//         console.log(x);
//       });
// }
</script>
</body>
</html>

